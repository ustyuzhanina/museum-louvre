!function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t){},function(e,t){},function(e,t,i){"use strict";i.r(t);document.querySelector(".page");var r=document.querySelector(".page-overlay"),s=document.querySelector(".mobile-menu"),n=document.querySelector(".hamburger-button"),a=document.querySelector(".go-up-link"),o=(document.querySelector(".carousel__container"),document.querySelector(".carousel__image-box")),c=document.querySelector(".carousel__controls"),l=(document.querySelector(".carousel__total-qty"),document.querySelector(".carousel__button-container")),u=(document.querySelector(".carousel__arrow-container"),document.querySelector(".section_explore__bar")),h=document.querySelector(".section_explore__img-before"),d=(document.querySelector(".container section_explore__img-container"),document.querySelector(".progress-bar"),document.querySelector(".volume-bar"),document.querySelector(".gallery-container"),document.querySelector(".gallery-container__column_1")),m=document.querySelector(".gallery-container__column_2"),v=document.querySelector(".gallery-container__column_3"),f=document.querySelector(".section_tickets__short-form"),y=f.querySelector(".section_tickets__total-cost"),p=f.querySelector("#basicNumber"),b=f.querySelector("#seniorNumber"),g=document.querySelector(".section_tickets__button"),_=document.querySelector(".form-container"),S=document.querySelector(".close-button"),C=document.querySelector(".large-form"),k=C.querySelector(".date"),E=C.querySelector(".time"),L=C.querySelector("#time-options"),w=C.querySelector(".name"),q=C.querySelector(".email"),I=C.querySelector(".phone"),x=C.querySelector("#formBasicNumber"),N=C.querySelector("#formSeniorNumber"),T=C.querySelector(".fieldset-details__price_basic"),O=C.querySelector(".fieldset-details__price_senior"),D=C.querySelector(".overview__result_date"),P=C.querySelector(".overview__result_time"),M=C.querySelector(".overview__result_ticket-type"),V=C.querySelector(".overview__ticket-count_basic"),R=C.querySelector(".overview__ticket-count_senior"),X=C.querySelector(".overview__ticket-price_basic"),A=C.querySelector(".overview__ticket-price_senior"),j=C.querySelector(".overview__cost_basic"),B=C.querySelector(".overview__cost_senior"),Y=C.querySelector(".overview__total-cost"),F=document.querySelector(".label-ticket-type"),U=F.querySelector(".input_ticket-type"),z=F.querySelector(".input-cover__arrow-icon"),H=F.querySelector(".input-cover__chosen-value"),J=document.querySelector(".options"),W=document.querySelector(".overview__book-button"),$=[2,9,4,6,11,1,8,3,5,13,7,10,15,12,14];E.min="09:00",E.max="17:30";E.step=String(1800);for(var G=E.min.split(":")[0],K=2*(+E.max.split(":")[0]-+G+1),Q=9,Z=[],ee=1;ee<=K;ee++){var te=document.createElement("option"),ie=void 0;ie=Q<10?"0".concat(Q):"".concat(Q);var re=void 0;ee%2==0?(re="".concat(30),Q++):re="00",te.value="".concat(ie,":").concat(re),te.textContent="".concat(ie,":").concat(re),Z.push(te)}L.append.apply(L,Z);function se(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.render=this.render.bind(this),this.fillColumn=this.fillColumn.bind(this),this.animateScroll=this.animateScroll.bind(this),this.checkVisibility=this.checkVisibility.bind(this),this.setEventListeners=this.setEventListeners.bind(this),this.scrollCache=0,this.gallery=document.querySelector(".section_gallery"),this.imageClass={common:".gallery-container__item",animated:"gallery-container__item_animated"}}var t,i,r;return t=e,(i=[{key:"render",value:function(){var e=function(e){for(var t=e.slice(),i=[],r=0;r<e.length;r++){var s=t[Math.floor(Math.random()*t.length)];i.push(s);var n=t.indexOf(s);t=t.slice(0,n).concat(t.slice(n+1))}return i}($);this.fillColumn(d,e.slice(0,5)),this.fillColumn(m,e.slice(5,10)),this.fillColumn(v,e.slice(10))}},{key:"fillColumn",value:function(e,t){for(var i=0;i<t.length;i++){var r='<img src="./assets/img/gallery/'.concat(t[i],'.jpg" class="gallery-container__item" alt="painting ').concat(t[i],'">').trim(),s=document.createElement("div");s.insertAdjacentHTML("afterbegin",r);var n=s.firstChild;e.appendChild(n)}}},{key:"checkVisibility",value:function(e){var t=e.getBoundingClientRect();return Boolean(t.top+20-window.innerHeight<=0)}},{key:"animateScroll",value:function(){var e=this;if(!this.checkVisibility(this.gallery))return!1;var t=window.scrollY,i=document.querySelectorAll(this.imageClass.common);t>this.scrollCache?i.forEach((function(t){if(!e.checkVisibility(t)||t.classList.contains(e.imageClass.animated))return!1;t.classList.add(e.imageClass.animated)})):t<this.scrollCache&&i.forEach((function(t){!e.checkVisibility(t)&&t.classList.contains(e.imageClass.animated)&&t.classList.remove(e.imageClass.animated)})),this.scrollCache=t<=0?0:t}},{key:"setEventListeners",value:function(){window.addEventListener("scroll",this.animateScroll)}}])&&se(t.prototype,i),r&&se(t,r),e}();function ae(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setEventListeners=this.setEventListeners.bind(this),this.slideReady=this.slideReady.bind(this),this.slideFinish=this.slideFinish.bind(this),this.slideMove=this.slideMove.bind(this),this.initialize=this.initialize.bind(this),this.clicked=0,this.bar=u,this.overlay=h,this.rect=null}var t,i,r;return t=e,(i=[{key:"initialize",value:function(e){this.rect=this.overlay.getBoundingClientRect(),this.barRect=this.bar.getBoundingClientRect();var t=e+this.barRect.width/2/this.rect.width*100;this.bar.style.left=e+"%",this.overlay.style.clipPath="polygon(0 0, ".concat(t,"% 0, ").concat(t,"% 100%, 0 100%)")}},{key:"getCursorPos",value:function(e){return e=e.changedTouches?e.changedTouches[0]:e,this.rect=this.overlay.getBoundingClientRect(),e.clientX-this.rect.left}},{key:"slideReady",value:function(e){e.preventDefault(),this.clicked=1,window.addEventListener("mousemove",this.slideMove),window.addEventListener("touchmove",this.slideMove)}},{key:"slideFinish",value:function(){this.clicked=0}},{key:"slideMove",value:function(e){if(0==this.clicked)return!1;this.barRect=this.bar.getBoundingClientRect();var t=this.getCursorPos(e);t<0&&(t=0),t>this.rect.width-this.barRect.width&&(t=this.rect.width-this.barRect.width),this.slide(t)}},{key:"slide",value:function(e){var t=(e+this.barRect.width/2)/this.rect.width*100;this.overlay.style.clipPath="polygon(0 0, ".concat(t,"% 0, ").concat(t,"% 100%, 0 100%)"),this.bar.style.left=e+"px"}},{key:"setEventListeners",value:function(){this.bar.addEventListener("mousedown",this.slideReady),window.addEventListener("mouseup",this.slideFinish),this.bar.addEventListener("touchstart",this.slideReady),window.addEventListener("touchend",this.slideFinish)}}])&&ae(t.prototype,i),r&&ae(t,r),e}();function ce(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=null,this.email=null,this.phone=null,this.purchase={},this.checkUser=this.checkUser.bind(this),this.save=this.save.bind(this),this.storeData=this.storeData.bind(this)}var t,i,r;return t=e,(i=[{key:"checkUser",value:function(){if(localStorage.getItem("louvre")){var e=JSON.parse(localStorage.getItem("louvre"));for(var t in e)this[t]=e[t];return!0}}},{key:"save",value:function(e){localStorage.getItem("louvre")&&localStorage.removeItem("louvre"),localStorage.setItem("louvre",JSON.stringify(e))}},{key:"userData",get:function(){return{name:this.name,email:this.email,phone:this.phone,purchase:this.purchase}}},{key:"storeData",value:function(e){this.name=e.name,this.email=e.email,this.phone=e.phone,this.purchase=e.purchase,this.save(e)}}])&&ce(t.prototype,i),r&&ce(t,r),e}(),ue=[{id:"tpe",ticketType:"Permanent exhibition",price:20},{id:"tte",ticketType:"Temporary exhibition",price:25},{id:"tca",ticketType:"Combined admission",price:40}];function he(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var de=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userClass=t,this.date="",this.time="",this.ticketType="",this.basicNumber=0,this.seniorNumber=0,this.cost=0,this.button=g,this.calculateCost=this.calculateCost.bind(this),this.renderCost=this.renderCost.bind(this),this.loadInputs=this.loadInputs.bind(this),this.setEventListeners=this.setEventListeners.bind(this)}var t,i,r;return t=e,(i=[{key:"loadInputs",value:function(){var e=this;p.value=this.userClass.purchase.basicNumber,b.value=this.userClass.purchase.seniorNumber,this.basicNumber=this.userClass.purchase.basicNumber,this.seniorNumber=this.userClass.purchase.seniorNumber,this.date=this.userClass.purchase.date,this.time=this.userClass.purchase.time,f.querySelectorAll("input[type=radio]").forEach((function(t){var i=t.closest(".label");i.textContent.trim()===e.userClass.purchase.ticketType&&(i.querySelector("input").checked="checked")})),this.userClass.purchase.ticketType&&(this.ticketType=this.userClass.purchase.ticketType),this.calculateCost()}},{key:"calculateCost",value:function(){for(var e=0;e<ue.length;e++)if(ue[e].ticketType.toLowerCase().trim()===this.ticketType.toLowerCase().trim()){this.cost=this.basicNumber*ue[e].price+this.seniorNumber*ue[e].price*.5;break}}},{key:"renderCost",value:function(){y.textContent=String(this.cost);var e={date:this.date,time:this.time,ticketType:this.ticketType,basicNumber:this.basicNumber,seniorNumber:this.seniorNumber},t={name:this.userClass.name,email:this.userClass.email,phone:this.userClass.phone,purchase:e};this.userClass.storeData(t)}},{key:"setEventListeners",value:function(e){var t=this;"radio"===e.type&&(e.checked&&(this.ticketType=e.closest(".label").textContent.trim()),e.addEventListener("change",(function(e){t.ticketType=e.target.closest(".label").textContent.trim(),t.calculateCost(),t.renderCost()}))),"number"===e.type&&e.closest("div").querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(e){var i=e.target.closest("div").querySelector("input");i.id,t[i.id]=Number(i.value),t.calculateCost(),t.renderCost()}))}))}}])&&he(t.prototype,i),r&&he(t,r),e}();function me(e){"focus"===e.type&&(e.target.closest("label").querySelector(".input-cover").style.background="linear-gradient(to right, transparent 80%, #fff 20%)",e.target.closest("label").querySelector(".input-cover").style.color="transparent"),"blur"===e.type&&(e.target.value||(e.target.closest("label").querySelector(".input-cover").style.backgroundColor="#fff",e.target.closest("label").querySelector(".input-cover").style.color="inherit"))}function ve(e){e.classList.toggle("input-cover__arrow-icon_down"),e.classList.toggle("input-cover__arrow-icon_up")}function fe(e){e.classList.toggle("options_visible")}function ye(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userClass=t,this.name="",this.email="",this.phone="",this.ticketType="",this.basicNumber=0,this.seniorNumber=0,this.basicPrice=0,this.seniorPrice=0,this.basicCost=0,this.seniorCost=0,this.cost=0,this.date="",this.time="",this.container=_,this.button=W,this.closeBtn=S,this.form=C,this.open=this.open.bind(this),this.close=this.close.bind(this),this.calculateCost=this.calculateCost.bind(this),this.renderOverview=this.renderOverview.bind(this),this.loadInputs=this.loadInputs.bind(this),this.renderNumberContainer=this.renderNumberContainer.bind(this),this.pickDataForSaving=this.pickDataForSaving.bind(this),this.setEventListeners=this.setEventListeners.bind(this)}var t,i,s;return t=e,(i=[{key:"open",value:function(){var e=this;this.button.removeAttribute("disabled"),this.loadInputs(),this.renderNumberContainer(),this.renderOverview(),this.container.classList.add("form-container_visible"),this.container.classList.remove("form-container_invisible"),r.classList.remove("page-overlay_hidden"),setTimeout((function(){e.container.style.overflowY="scroll"}),1e3)}},{key:"close",value:function(){this.container.style.overflowY="hidden",this.container.classList.remove("form-container_visible"),this.container.classList.add("form-container_invisible"),r.classList.add("page-overlay_hidden")}},{key:"loadInputs",value:function(){if(this.basicNumber=this.userClass.purchase.basicNumber,this.seniorNumber=this.userClass.purchase.seniorNumber,this.date=this.userClass.purchase.date,this.time=this.userClass.purchase.time,this.userClass.purchase.date){this.date=this.userClass.purchase.date,k.value=this.date;var e=k.closest("label").querySelector(".input-cover");e.style.background="linear-gradient(to right, transparent 80%, #fff 20%)",e.style.color="transparent"}if(this.userClass.purchase.time){this.time=this.userClass.purchase.time,E.value=this.time;var t=E.closest("label").querySelector(".input-cover");t.style.background="linear-gradient(to right, transparent 80%, #fff 20%)",t.style.color="transparent"}this.userClass.name&&(this.name=this.userClass.name,w.value=this.name),this.userClass.email&&(this.email=this.userClass.email,q.value=this.email),this.userClass.phone&&(this.phone=this.userClass.phone,I.value=this.phone),this.userClass.purchase.ticketType&&(U.value=this.userClass.purchase.ticketType,H.textContent=this.userClass.purchase.ticketType,this.ticketType=this.userClass.purchase.ticketType),this.calculateCost()}},{key:"calculateCost",value:function(){for(var e=0;e<ue.length;e++)if(ue[e].ticketType.toLowerCase().trim()===this.ticketType.toLowerCase().trim()){this.basicPrice=ue[e].price,this.seniorPrice=.5*ue[e].price,this.basicCost=this.basicNumber*this.basicPrice,this.seniorCost=this.seniorNumber*this.seniorPrice,this.cost=this.seniorCost+this.basicCost;break}}},{key:"renderNumberContainer",value:function(){x.value=this.userClass.purchase.basicNumber,N.value=this.userClass.purchase.seniorNumber,T.textContent=String(this.basicPrice),O.textContent=String(this.seniorPrice)}},{key:"pickDataForSaving",value:function(){var e={date:this.date,time:this.time,ticketType:this.ticketType,basicNumber:this.basicNumber,seniorNumber:this.seniorNumber},t={name:this.name||this.userClass.name,email:this.email||this.userClass.email,phone:this.phone||this.userClass.phone,purchase:e};this.userClass.storeData(t)}},{key:"renderOverview",value:function(){var e=new Date(Date.parse(this.date));D.textContent=this.date?e.toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric"}):"-",P.textContent=this.time?"".concat(String(this.time).replace(":"," : ")):"-",M.textContent=this.ticketType||"-",V.textContent=String(this.basicNumber),R.textContent=String(this.seniorNumber),X.textContent=String(this.basicPrice),A.textContent=String(this.seniorPrice),j.textContent=String(this.basicCost),B.textContent=String(this.seniorCost),Y.textContent=String(this.cost),this.pickDataForSaving()}},{key:"setEventListeners",value:function(){var e=this,t=new Date,i=E.closest("label").querySelector("datalist");k.min=t.toISOString().split("T")[0],k.addEventListener("focus",(function(e){return me(e)})),k.addEventListener("blur",(function(t){me(t),e.pickDataForSaving()})),k.addEventListener("change",(function(t){e.date=t.target.value,e.renderOverview()})),E.addEventListener("focus",(function(e){e.preventDefault(),me(e),i.style.display="block"})),i.addEventListener("mousedown",(function(t){"OPTION"===t.target.tagName&&(E.value=t.target.closest("option").value,e.time=t.target.value,e.renderOverview())})),E.addEventListener("blur",(function(t){me(t),e.pickDataForSaving(),i.style.display="none"})),w.addEventListener("blur",(function(t){e.name=t.target.value,e.pickDataForSaving()})),q.addEventListener("blur",(function(t){e.email=t.target.value,e.pickDataForSaving()})),I.addEventListener("blur",(function(t){e.phone=t.target.value,e.pickDataForSaving()})),U.addEventListener("click",(function(e){ve(z),fe(J)})),J.addEventListener("click",(function(t){var i=t.target.closest(".option").textContent;U.value=i.trim(),H.textContent=i,ve(z),fe(J),e.ticketType=U.value,e.calculateCost(),e.renderOverview()})),x.closest(".number-container").querySelectorAll("button").forEach((function(t){t.addEventListener("click",(function(t){e.basicNumber=x.value,e.calculateCost(),e.renderOverview()}))})),N.closest(".number-container").querySelectorAll("button").forEach((function(t){t.addEventListener("click",(function(t){e.seniorNumber=N.value,e.calculateCost(),e.renderOverview()}))})),this.button.addEventListener("click",(function(t){t.preventDefault();var i=document.createElement("span");i.classList.add("button__ripple-effect"),e.button.append(i);var r=e.button.getBoundingClientRect(),s=t.clientX-r.x,n=t.clientY-r.y;i.style.left="".concat(s,"px"),i.style.top="".concat(n,"px"),setTimeout((function(){i.remove()}),1e3)}))}}])&&ye(t.prototype,i),s&&ye(t,s),e}(),be="This field is required",ge="You cannot choose a date in the past",_e="We are open from 9am till 6pm",Se="Allowed admission interval is 30 minutes",Ce="Type 3 to 15 characters",ke="Only Russian/English letters and spaces are allowed",Ee="Pattern username@example.com is required",Le="Max 10 digits possibly split by 2-3 digits with space or hiphen";function we(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Ie(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formClass=t,this.form=this.formClass.form,this.isValidate=this.isValidate.bind(this),this.checkInputValidity=this.checkInputValidity.bind(this),this.handleInputs=this.handleInputs.bind(this),this.setSubmitButtonState=this.setSubmitButtonState.bind(this),this.setEventListeners=this.setEventListeners.bind(this),this.removeEventListeners=this.removeEventListeners.bind(this),this.resetErrors=this.resetErrors.bind(this)}var t,i,r;return t=e,(i=[{key:"isValidate",value:function(e){if(e.setCustomValidity(""),e.validity.valueMissing)return e.setCustomValidity(be),!1;if(e.validity.tooShort||e.validity.tooLong)return e.setCustomValidity(Ce),!1;if(e.validity.patternMismatch&&"text"===e.type)return e.setCustomValidity(ke),!1;if("date"===e.type&&e.validity.rangeUnderflow)return e.setCustomValidity(ge),!1;if("time"===e.type){if(e.validity.rangeUnderflow||e.validity.rangeOverflow)return e.setCustomValidity(_e),!1;if(e.validity.stepMismatch)return e.setCustomValidity(Se),!1}return(e.validity.typeMismatch||e.validity.patternMismatch)&&"email"===e.type?(e.setCustomValidity(Ee),!1):(e.validity.tooLong||e.validity.patternMismatch)&&"tel"===e.type?(e.setCustomValidity(Le),!1):e.checkValidity()}},{key:"checkInputValidity",value:function(e){var t=e.parentNode.querySelector(".error-message"),i=this.isValidate(e);return i?(t.textContent="",e.classList.remove("error")):(t.textContent=e.validationMessage,e.classList.add("error")),i}},{key:"handleInputs",value:function(e){var t=this.formClass.button,i=we(this.form.querySelectorAll("input")).slice(0);this.checkInputValidity(e.target),i.every(this.isValidate)?this.setSubmitButtonState(t,!0):this.setSubmitButtonState(t,!1)}},{key:"setEventListeners",value:function(){this.form.addEventListener("input",this.handleInputs,!0),this.form.addEventListener("change",this.handleInputs,!0),this.form.addEventListener("click",this.handleInputs,!0)}},{key:"removeEventListeners",value:function(){this.form.removeEventListener("input",this.handleInputs,!0),this.form.removeEventListener("change",this.handleInputs,!0),this.form.removeEventListener("click",this.handleInputs,!0),this.resetErrors()}},{key:"setSubmitButtonState",value:function(e,t){t?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled")}},{key:"resetErrors",value:function(){this.form.querySelectorAll(".error-message").forEach((function(e){e.textContent="",e.parentNode.querySelector("input").classList.remove("error")}))}}])&&Ie(t.prototype,i),r&&Ie(t,r),e}();i(0);function Ne(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classes={basic:"carousel__image",active:"carousel__image_active",next:"carousel__image_next",toLeft:"carousel__image_to-left",toRight:"carousel__image_to-right",fromLeft:"carousel__image_from-left",fromRight:"carousel__image_from-right"},this.arrowLeft=c.querySelector(".carousel__arrow-left"),this.arrowRight=c.querySelector(".carousel__arrow-right"),this.isEnabled=!0,this.currentItem=0,this.btnOrderNum=1,this.images=o.querySelectorAll("img"),this.btns=l.querySelectorAll(".carousel__button"),this.dragXStart=0,this.dragXEnd=0,this.dragYStart=0,this.dragYEnd=0,this.setEventListeners=this.setEventListeners.bind(this)}var t,i,r;return t=e,(i=[{key:"changeCurrentItem",value:function(e){this.btns[this.currentItem].classList.remove("carousel__button_active"),this.currentItem=(e+this.images.length)%this.images.length}},{key:"hideItem",value:function(e){this.isEnabled=!1,this.images[this.currentItem].classList.add(e),this.images[this.currentItem].addEventListener("animationend",(function(t){t.target.classList.remove("carousel__image_active",e)}))}},{key:"showItem",value:function(e){var t=this;this.images[this.currentItem].classList.add(this.classes.next,e),this.images[this.currentItem].addEventListener("animationend",(function(i){i.target.classList.remove("carousel__image_next",e),i.target.classList.add("carousel__image_active"),t.btns[t.currentItem].classList.add("carousel__button_active"),document.querySelector(".carousel__img-order-num").textContent="0"+(t.currentItem+1),t.isEnabled=!0}))}},{key:"previousItem",value:function(e){this.hideItem(this.classes.toRight),this.changeCurrentItem(e-1),this.showItem(this.classes.fromLeft)}},{key:"nextItem",value:function(e){this.hideItem(this.classes.toLeft),this.changeCurrentItem(e+1),this.showItem(this.classes.fromRight)}},{key:"setEventListeners",value:function(){for(var e=this,t=function(t){e.btns[t].addEventListener("click",(function(){e.isEnabled&&(e.currentItem<t?e.nextItem(t-1):e.currentItem>t&&e.previousItem(t+1))}))},i=0;i<this.btns.length;i++)t(i);this.arrowLeft.addEventListener("click",(function(){e.isEnabled&&e.previousItem(e.currentItem)})),this.arrowRight.addEventListener("click",(function(){e.isEnabled&&e.nextItem(e.currentItem)})),o.addEventListener("mousedown",(function(t){t.preventDefault(),e.dragXStart=t.pageX,e.dragYStart=t.pageY})),o.addEventListener("mouseup",(function(t){e.dragXEnd=t.pageX,e.dragYEnd=t.pageY;var i=e.dragXEnd-e.dragXStart;e.dragYEnd,e.dragYStart,e.dragXStart>e.dragXEnd&&Math.abs(i)>30?(t.preventDefault(),e.isEnabled&&e.nextItem(e.currentItem)):e.dragXStart<e.dragXEnd&&Math.abs(i)>30&&(t.preventDefault(),e.isEnabled&&e.previousItem(e.currentItem))})),o.addEventListener("touchstart",(function(t){t.preventDefault(),e.dragXStart=t.touches[0].clientX,e.dragYStart=t.touches[0].clientY})),o.addEventListener("touchend",(function(t){e.dragXEnd=t.changedTouches[0].clientX;var i=e.dragXEnd-e.dragXStart;e.dragXStart>e.dragXEnd&&Math.abs(i)>30?(t.preventDefault(),e.isEnabled&&e.nextItem(e.currentItem)):e.dragXStart<e.dragXEnd&&Math.abs(i)>30&&(t.preventDefault(),e.isEnabled&&e.previousItem(e.currentItem))}))}}])&&Ne(t.prototype,i),r&&Ne(t,r),e}();i(1);!function(){var e=new Te,t=new oe,i=new ne,r=new le,o=new de(r),c=new pe(r),l=new xe(c);function u(){s.classList.toggle("mobile-menu_open"),n.classList.toggle("hamburger-button_open")}r.checkUser(),r.checkUser()&&o.loadInputs(),o.renderCost(),f.querySelectorAll("input").forEach((function(e){o.setEventListeners(e)})),document.addEventListener("scroll",(function e(){a.classList.add("go-up-link_visible"),document.removeEventListener("scroll",e)})),e.setEventListeners(),t.initialize(59),t.setEventListeners(),i.render(),i.setEventListeners(),n.addEventListener("click",u),s.addEventListener("click",u),o.button.addEventListener("click",(function(e){e.preventDefault(),c.open(),l.setEventListeners()})),c.setEventListeners(),c.closeBtn.addEventListener("click",(function(e){e.preventDefault(),c.close(),l.removeEventListeners()}))}()}]);