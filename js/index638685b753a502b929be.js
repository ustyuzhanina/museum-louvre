!function(e){function t(t){for(var r,a,o=t[0],c=t[1],l=t[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],r=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=i[0]))}return e}var r={},n={3:0},s=[];function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([6,8]),i()}({6:function(e,t,i){"use strict";i.r(t);i(2),i(3),document.querySelector(".page");var r=document.querySelector(".page-overlay"),n=document.querySelector(".mobile-menu"),s=document.querySelector(".hamburger-button"),a=document.querySelector(".go-up-link"),o=(document.querySelector(".carousel__container"),document.querySelector(".carousel__image-box")),c=document.querySelector(".carousel__controls"),l=(document.querySelector(".carousel__total-qty"),document.querySelector(".carousel__button-container")),u=(document.querySelector(".carousel__arrow-container"),document.querySelector(".section_explore__bar")),h=document.querySelector(".section_explore__img-before"),d=(document.querySelector(".container section_explore__img-container"),document.querySelector(".progress-bar")),v=document.querySelector(".volume-bar"),m=(document.querySelector(".gallery-container"),document.querySelector(".gallery-container__column_1")),p=document.querySelector(".gallery-container__column_2"),f=document.querySelector(".gallery-container__column_3"),y=document.querySelector(".section_tickets__short-form"),b=y.querySelector(".section_tickets__total-cost"),g=y.querySelector("#basicNumber"),_=y.querySelector("#seniorNumber"),C=document.querySelector(".section_tickets__button"),k=document.querySelector(".form-container"),S=document.querySelector(".close-button"),w=document.querySelector(".large-form"),E=w.querySelector(".date"),L=w.querySelector(".time"),q=w.querySelector("#time-options"),I=w.querySelector(".name"),T=w.querySelector(".email"),x=w.querySelector(".phone"),N=w.querySelector("#formBasicNumber"),O=w.querySelector("#formSeniorNumber"),P=w.querySelector(".fieldset-details__price_basic"),D=w.querySelector(".fieldset-details__price_senior"),M=w.querySelector(".overview__result_date"),X=w.querySelector(".overview__result_time"),A=w.querySelector(".overview__result_ticket-type"),R=w.querySelector(".overview__ticket-count_basic"),V=w.querySelector(".overview__ticket-count_senior"),j=w.querySelector(".overview__ticket-price_basic"),F=w.querySelector(".overview__ticket-price_senior"),Y=w.querySelector(".overview__cost_basic"),B=w.querySelector(".overview__cost_senior"),U=w.querySelector(".overview__total-cost"),z=document.querySelector(".label-ticket-type"),J=z.querySelector(".input_ticket-type"),H=z.querySelector(".input-cover__arrow-icon"),W=z.querySelector(".input-cover__chosen-value"),G=document.querySelector(".options"),Q=document.querySelector(".overview__book-button"),Z=[2,9,4,6,11,1,8,3,5,13,7,10,15,12,14];L.min="09:00",L.max="17:30";L.step=String(1800);for(var $=L.min.split(":")[0],K=2*(+L.max.split(":")[0]-+$+1),ee=9,te=[],ie=1;ie<=K;ie++){var re=document.createElement("option"),ne=void 0;ne=ee<10?"0".concat(ee):"".concat(ee);var se=void 0;ie%2==0?(se="".concat(30),ee++):se="00",re.value="".concat(ne,":").concat(se),re.textContent="".concat(ne,":").concat(se),te.push(re)}q.append.apply(q,te);var ae="pk.eyJ1IjoidXN0eXV6aGFuaW5hIiwiYSI6ImNrdTJzd3lxMTBuZDUycXFrOXg4ZGE2NDMifQ.mv3WSm6D34fbAi4Nn4jXxQ",oe="mapbox://styles/ustyuzhanina/ckygui7al1oa115oamthy0q5d",ce={features:[{type:"Feature",properties:{title:"Louvre Museum",description:"You should definitely visit this place!"},geometry:{coordinates:[2.3364,48.86091],type:"Point"}},{type:"Feature",properties:{title:"Tunnel des Tuileries",description:"You should definitely visit this place!"},geometry:{coordinates:[2.3333,48.8602],type:"Point"}},{type:"Feature",properties:{title:"Sarcophage d'Abou Roach",description:"You should definitely visit this place!"},geometry:{coordinates:[2.3397,48.8607],type:"Point"}},{type:"Feature",properties:{title:"Arc de triomphe du Carrousel",description:"You should definitely visit this place!"},geometry:{coordinates:[2.333,48.8619],type:"Point"}},{type:"Feature",properties:{title:"Rue de Rivoli",description:"You should definitely visit this place!"},geometry:{coordinates:[2.3365,48.8625],type:"Point"}}],type:"FeatureCollection"};function le(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.render=this.render.bind(this),this.fillColumn=this.fillColumn.bind(this),this.animateScroll=this.animateScroll.bind(this),this.checkVisibility=this.checkVisibility.bind(this),this.setEventListeners=this.setEventListeners.bind(this),this.scrollCache=0,this.gallery=document.querySelector(".section_gallery"),this.imageClass={common:".gallery-container__item",animated:"gallery-container__item_animated"}}var t,i,r;return t=e,(i=[{key:"render",value:function(){var e=function(e){for(var t=e.slice(),i=[],r=0;r<e.length;r++){var n=t[Math.floor(Math.random()*t.length)];i.push(n);var s=t.indexOf(n);t=t.slice(0,s).concat(t.slice(s+1))}return i}(Z);this.fillColumn(m,e.slice(0,5)),this.fillColumn(p,e.slice(5,10)),this.fillColumn(f,e.slice(10))}},{key:"fillColumn",value:function(e,t){for(var i=0;i<t.length;i++){var r='<img src="./assets/img/gallery/'.concat(t[i],'.jpg" class="gallery-container__item" alt="painting ').concat(t[i],'">').trim(),n=document.createElement("div");n.insertAdjacentHTML("afterbegin",r);var s=n.firstChild;e.appendChild(s)}}},{key:"checkVisibility",value:function(e){var t=e.getBoundingClientRect();return Boolean(t.top+20-window.innerHeight<=0)}},{key:"animateScroll",value:function(){var e=this;if(!this.checkVisibility(this.gallery))return!1;var t=window.scrollY,i=document.querySelectorAll(this.imageClass.common);t>this.scrollCache?i.forEach((function(t){if(!e.checkVisibility(t)||t.classList.contains(e.imageClass.animated))return!1;t.classList.add(e.imageClass.animated)})):t<this.scrollCache&&i.forEach((function(t){!e.checkVisibility(t)&&t.classList.contains(e.imageClass.animated)&&t.classList.remove(e.imageClass.animated)})),this.scrollCache=t<=0?0:t}},{key:"setEventListeners",value:function(){window.addEventListener("scroll",this.animateScroll)}}])&&le(t.prototype,i),r&&le(t,r),e}();function he(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var de=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setEventListeners=this.setEventListeners.bind(this),this.slideReady=this.slideReady.bind(this),this.slideFinish=this.slideFinish.bind(this),this.slideMove=this.slideMove.bind(this),this.initialize=this.initialize.bind(this),this.clicked=0,this.bar=u,this.overlay=h,this.rect=null}var t,i,r;return t=e,(i=[{key:"initialize",value:function(e){this.rect=this.overlay.getBoundingClientRect(),this.barRect=this.bar.getBoundingClientRect();var t=e+this.barRect.width/2/this.rect.width*100;this.bar.style.left=e+"%",this.overlay.style.clipPath="polygon(0 0, ".concat(t,"% 0, ").concat(t,"% 100%, 0 100%)")}},{key:"getCursorPos",value:function(e){return e=e.changedTouches?e.changedTouches[0]:e,this.rect=this.overlay.getBoundingClientRect(),e.clientX-this.rect.left}},{key:"slideReady",value:function(e){e.preventDefault(),this.clicked=1,window.addEventListener("mousemove",this.slideMove),window.addEventListener("touchmove",this.slideMove)}},{key:"slideFinish",value:function(){this.clicked=0}},{key:"slideMove",value:function(e){if(0==this.clicked)return!1;this.barRect=this.bar.getBoundingClientRect();var t=this.getCursorPos(e);t<0&&(t=0),t>this.rect.width-this.barRect.width&&(t=this.rect.width-this.barRect.width),this.slide(t)}},{key:"slide",value:function(e){var t=(e+this.barRect.width/2)/this.rect.width*100;this.overlay.style.clipPath="polygon(0 0, ".concat(t,"% 0, ").concat(t,"% 100%, 0 100%)"),this.bar.style.left=e+"px"}},{key:"setEventListeners",value:function(){this.bar.addEventListener("mousedown",this.slideReady),window.addEventListener("mouseup",this.slideFinish),this.bar.addEventListener("touchstart",this.slideReady),window.addEventListener("touchend",this.slideFinish)}}])&&he(t.prototype,i),r&&he(t,r),e}();function ve(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=null,this.email=null,this.phone=null,this.purchase={},this.checkUser=this.checkUser.bind(this),this.save=this.save.bind(this),this.storeData=this.storeData.bind(this)}var t,i,r;return t=e,(i=[{key:"checkUser",value:function(){if(localStorage.getItem("louvre")){var e=JSON.parse(localStorage.getItem("louvre"));for(var t in e)this[t]=e[t];return!0}}},{key:"save",value:function(e){localStorage.getItem("louvre")&&localStorage.removeItem("louvre"),localStorage.setItem("louvre",JSON.stringify(e))}},{key:"userData",get:function(){return{name:this.name,email:this.email,phone:this.phone,purchase:this.purchase}}},{key:"storeData",value:function(e){this.name=e.name,this.email=e.email,this.phone=e.phone,this.purchase=e.purchase,this.save(e)}}])&&ve(t.prototype,i),r&&ve(t,r),e}(),pe=[{id:"tpe",ticketType:"Permanent exhibition",price:20},{id:"tte",ticketType:"Temporary exhibition",price:25},{id:"tca",ticketType:"Combined admission",price:40}];function fe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userClass=t,this.date="",this.time="",this.ticketType="",this.basicNumber=0,this.seniorNumber=0,this.cost=0,this.button=C,this.calculateCost=this.calculateCost.bind(this),this.renderCost=this.renderCost.bind(this),this.loadInputs=this.loadInputs.bind(this),this.setEventListeners=this.setEventListeners.bind(this)}var t,i,r;return t=e,(i=[{key:"loadInputs",value:function(){var e=this;g.value=this.userClass.purchase.basicNumber,_.value=this.userClass.purchase.seniorNumber,this.basicNumber=this.userClass.purchase.basicNumber,this.seniorNumber=this.userClass.purchase.seniorNumber,this.date=this.userClass.purchase.date,this.time=this.userClass.purchase.time,y.querySelectorAll("input[type=radio]").forEach((function(t){var i=t.closest(".label");i.textContent.trim()===e.userClass.purchase.ticketType&&(i.querySelector("input").checked="checked")})),this.userClass.purchase.ticketType&&(this.ticketType=this.userClass.purchase.ticketType),this.calculateCost()}},{key:"calculateCost",value:function(){for(var e=0;e<pe.length;e++)if(pe[e].ticketType.toLowerCase().trim()===this.ticketType.toLowerCase().trim()){this.cost=this.basicNumber*pe[e].price+this.seniorNumber*pe[e].price*.5;break}}},{key:"renderCost",value:function(){b.textContent=String(this.cost);var e={date:this.date,time:this.time,ticketType:this.ticketType,basicNumber:this.basicNumber,seniorNumber:this.seniorNumber},t={name:this.userClass.name,email:this.userClass.email,phone:this.userClass.phone,purchase:e};this.userClass.storeData(t)}},{key:"setEventListeners",value:function(e){var t=this;"radio"===e.type&&(e.checked&&(this.ticketType=e.closest(".label").textContent.trim()),e.addEventListener("change",(function(e){t.ticketType=e.target.closest(".label").textContent.trim(),t.calculateCost(),t.renderCost()}))),"number"===e.type&&e.closest("div").querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(e){var i=e.target.closest("div").querySelector("input");i.id,t[i.id]=Number(i.value),t.calculateCost(),t.renderCost()}))}))}}])&&fe(t.prototype,i),r&&fe(t,r),e}();function be(e){"focus"===e.type&&(e.target.closest("label").querySelector(".input-cover").style.background="linear-gradient(to right, transparent 80%, #fff 20%)",e.target.closest("label").querySelector(".input-cover").style.color="transparent"),"blur"===e.type&&(e.target.value||(e.target.closest("label").querySelector(".input-cover").style.backgroundColor="#fff",e.target.closest("label").querySelector(".input-cover").style.color="inherit"))}function ge(e){e.classList.toggle("input-cover__arrow-icon_down"),e.classList.toggle("input-cover__arrow-icon_up")}function _e(e){e.classList.toggle("options_visible")}function Ce(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userClass=t,this.name="",this.email="",this.phone="",this.ticketType="",this.basicNumber=0,this.seniorNumber=0,this.basicPrice=0,this.seniorPrice=0,this.basicCost=0,this.seniorCost=0,this.cost=0,this.date="",this.time="",this.container=k,this.button=Q,this.closeBtn=S,this.form=w,this.open=this.open.bind(this),this.close=this.close.bind(this),this.calculateCost=this.calculateCost.bind(this),this.renderOverview=this.renderOverview.bind(this),this.loadInputs=this.loadInputs.bind(this),this.renderNumberContainer=this.renderNumberContainer.bind(this),this.pickDataForSaving=this.pickDataForSaving.bind(this),this.setEventListeners=this.setEventListeners.bind(this)}var t,i,n;return t=e,(i=[{key:"open",value:function(){var e=this;this.button.removeAttribute("disabled"),this.loadInputs(),this.renderNumberContainer(),this.renderOverview(),this.container.classList.add("form-container_visible"),this.container.classList.remove("form-container_invisible"),r.classList.remove("page-overlay_hidden"),setTimeout((function(){e.container.style.overflowY="scroll"}),1e3)}},{key:"close",value:function(){this.container.style.overflowY="hidden",this.container.classList.remove("form-container_visible"),this.container.classList.add("form-container_invisible"),r.classList.add("page-overlay_hidden")}},{key:"loadInputs",value:function(){if(this.basicNumber=this.userClass.purchase.basicNumber,this.seniorNumber=this.userClass.purchase.seniorNumber,this.date=this.userClass.purchase.date,this.time=this.userClass.purchase.time,this.userClass.purchase.date){this.date=this.userClass.purchase.date,E.value=this.date;var e=E.closest("label").querySelector(".input-cover");e.style.background="linear-gradient(to right, transparent 80%, #fff 20%)",e.style.color="transparent"}if(this.userClass.purchase.time){this.time=this.userClass.purchase.time,L.value=this.time;var t=L.closest("label").querySelector(".input-cover");t.style.background="linear-gradient(to right, transparent 80%, #fff 20%)",t.style.color="transparent"}this.userClass.name&&(this.name=this.userClass.name,I.value=this.name),this.userClass.email&&(this.email=this.userClass.email,T.value=this.email),this.userClass.phone&&(this.phone=this.userClass.phone,x.value=this.phone),this.userClass.purchase.ticketType&&(J.value=this.userClass.purchase.ticketType,W.textContent=this.userClass.purchase.ticketType,this.ticketType=this.userClass.purchase.ticketType),this.calculateCost()}},{key:"calculateCost",value:function(){for(var e=0;e<pe.length;e++)if(pe[e].ticketType.toLowerCase().trim()===this.ticketType.toLowerCase().trim()){this.basicPrice=pe[e].price,this.seniorPrice=.5*pe[e].price,this.basicCost=this.basicNumber*this.basicPrice,this.seniorCost=this.seniorNumber*this.seniorPrice,this.cost=this.seniorCost+this.basicCost;break}}},{key:"renderNumberContainer",value:function(){N.value=this.userClass.purchase.basicNumber,O.value=this.userClass.purchase.seniorNumber,P.textContent=String(this.basicPrice),D.textContent=String(this.seniorPrice)}},{key:"pickDataForSaving",value:function(){var e={date:this.date,time:this.time,ticketType:this.ticketType,basicNumber:this.basicNumber,seniorNumber:this.seniorNumber},t={name:this.name||this.userClass.name,email:this.email||this.userClass.email,phone:this.phone||this.userClass.phone,purchase:e};this.userClass.storeData(t)}},{key:"renderOverview",value:function(){var e=new Date(Date.parse(this.date));M.textContent=this.date?e.toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric"}):"-",X.textContent=this.time?"".concat(String(this.time).replace(":"," : ")):"-",A.textContent=this.ticketType||"-",R.textContent=String(this.basicNumber),V.textContent=String(this.seniorNumber),j.textContent=String(this.basicPrice),F.textContent=String(this.seniorPrice),Y.textContent=String(this.basicCost),B.textContent=String(this.seniorCost),U.textContent=String(this.cost),this.pickDataForSaving()}},{key:"setEventListeners",value:function(){var e=this,t=new Date,i=L.closest("label").querySelector("datalist");E.min=t.toISOString().split("T")[0],E.addEventListener("focus",(function(e){return be(e)})),E.addEventListener("blur",(function(t){be(t),e.pickDataForSaving()})),E.addEventListener("change",(function(t){e.date=t.target.value,e.renderOverview()})),L.addEventListener("focus",(function(e){e.preventDefault(),be(e),i.style.display="block"})),i.addEventListener("mousedown",(function(t){"OPTION"===t.target.tagName&&(L.value=t.target.closest("option").value,e.time=t.target.value,e.renderOverview())})),L.addEventListener("blur",(function(t){be(t),e.pickDataForSaving(),i.style.display="none"})),I.addEventListener("blur",(function(t){e.name=t.target.value,e.pickDataForSaving()})),T.addEventListener("blur",(function(t){e.email=t.target.value,e.pickDataForSaving()})),x.addEventListener("blur",(function(t){e.phone=t.target.value,e.pickDataForSaving()})),J.addEventListener("click",(function(e){ge(H),_e(G)})),G.addEventListener("click",(function(t){var i=t.target.closest(".option").textContent;J.value=i.trim(),W.textContent=i,ge(H),_e(G),e.ticketType=J.value,e.calculateCost(),e.renderOverview()})),N.closest(".number-container").querySelectorAll("button").forEach((function(t){t.addEventListener("click",(function(t){e.basicNumber=N.value,e.calculateCost(),e.renderOverview()}))})),O.closest(".number-container").querySelectorAll("button").forEach((function(t){t.addEventListener("click",(function(t){e.seniorNumber=O.value,e.calculateCost(),e.renderOverview()}))})),this.button.addEventListener("click",(function(t){t.preventDefault();var i=document.createElement("span");i.classList.add("button__ripple-effect"),e.button.append(i);var r=e.button.getBoundingClientRect(),n=t.clientX-r.x,s=t.clientY-r.y;i.style.left="".concat(n,"px"),i.style.top="".concat(s,"px"),setTimeout((function(){i.remove()}),1e3)}))}}])&&Ce(t.prototype,i),n&&Ce(t,n),e}(),Se="This field is required",we="You cannot choose a date in the past",Ee="We are open from 9am till 6pm",Le="Allowed admission interval is 30 minutes",qe="Type 3 to 15 characters",Ie="Only Russian/English letters and spaces are allowed",Te="Pattern username@example.com is required",xe="Max 10 digits possibly split by 2-3 digits with space or hiphen";function Ne(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Pe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formClass=t,this.form=this.formClass.form,this.isValidate=this.isValidate.bind(this),this.checkInputValidity=this.checkInputValidity.bind(this),this.handleInputs=this.handleInputs.bind(this),this.setSubmitButtonState=this.setSubmitButtonState.bind(this),this.setEventListeners=this.setEventListeners.bind(this),this.removeEventListeners=this.removeEventListeners.bind(this),this.resetErrors=this.resetErrors.bind(this)}var t,i,r;return t=e,(i=[{key:"isValidate",value:function(e){if(e.setCustomValidity(""),e.validity.valueMissing)return e.setCustomValidity(Se),!1;if(e.validity.tooShort||e.validity.tooLong)return e.setCustomValidity(qe),!1;if(e.validity.patternMismatch&&"text"===e.type)return e.setCustomValidity(Ie),!1;if("date"===e.type&&e.validity.rangeUnderflow)return e.setCustomValidity(we),!1;if("time"===e.type){if(e.validity.rangeUnderflow||e.validity.rangeOverflow)return e.setCustomValidity(Ee),!1;if(e.validity.stepMismatch)return e.setCustomValidity(Le),!1}return(e.validity.typeMismatch||e.validity.patternMismatch)&&"email"===e.type?(e.setCustomValidity(Te),!1):(e.validity.tooLong||e.validity.patternMismatch)&&"tel"===e.type?(e.setCustomValidity(xe),!1):e.checkValidity()}},{key:"checkInputValidity",value:function(e){var t=e.parentNode.querySelector(".error-message"),i=this.isValidate(e);return i?(t.textContent="",e.classList.remove("error")):(t.textContent=e.validationMessage,e.classList.add("error")),i}},{key:"handleInputs",value:function(e){var t=this.formClass.button,i=Ne(this.form.querySelectorAll("input")).slice(0);this.checkInputValidity(e.target),i.every(this.isValidate)?this.setSubmitButtonState(t,!0):this.setSubmitButtonState(t,!1)}},{key:"setEventListeners",value:function(){this.form.addEventListener("input",this.handleInputs,!0),this.form.addEventListener("change",this.handleInputs,!0),this.form.addEventListener("click",this.handleInputs,!0)}},{key:"removeEventListeners",value:function(){this.form.removeEventListener("input",this.handleInputs,!0),this.form.removeEventListener("change",this.handleInputs,!0),this.form.removeEventListener("click",this.handleInputs,!0),this.resetErrors()}},{key:"setSubmitButtonState",value:function(e,t){t?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled")}},{key:"resetErrors",value:function(){this.form.querySelectorAll(".error-message").forEach((function(e){e.textContent="",e.parentNode.querySelector("input").classList.remove("error")}))}}])&&Pe(t.prototype,i),r&&Pe(t,r),e}();function Me(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setEventListeners=this.setEventListeners.bind(this)}var t,i,r;return t=e,(i=[{key:"setEventListeners",value:function(){d.addEventListener("input",(function(e){var t=e.target.value;this.style.background="linear-gradient(to right, #710707 0%, #710707 ".concat(t,"%, #C4C4C4 ").concat(t,"%, #C4C4C4 100%)")})),v.addEventListener("input",(function(e){var t=e.target.value;this.style.background="linear-gradient(to right, #710707 0%, #710707 ".concat(t,"%, #C4C4C4 ").concat(t,"%, #C4C4C4 100%)")}))}}])&&Me(t.prototype,i),r&&Me(t,r),e}();function Ae(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classes={basic:"carousel__image",active:"carousel__image_active",next:"carousel__image_next",toLeft:"carousel__image_to-left",toRight:"carousel__image_to-right",fromLeft:"carousel__image_from-left",fromRight:"carousel__image_from-right"},this.arrowLeft=c.querySelector(".carousel__arrow-left"),this.arrowRight=c.querySelector(".carousel__arrow-right"),this.isEnabled=!0,this.currentItem=0,this.btnOrderNum=1,this.images=o.querySelectorAll("img"),this.btns=l.querySelectorAll(".carousel__button"),this.dragXStart=0,this.dragXEnd=0,this.dragYStart=0,this.dragYEnd=0,this.setEventListeners=this.setEventListeners.bind(this)}var t,i,r;return t=e,(i=[{key:"changeCurrentItem",value:function(e){this.btns[this.currentItem].classList.remove("carousel__button_active"),this.currentItem=(e+this.images.length)%this.images.length}},{key:"hideItem",value:function(e){this.isEnabled=!1,this.images[this.currentItem].classList.add(e),this.images[this.currentItem].addEventListener("animationend",(function(t){t.target.classList.remove("carousel__image_active",e)}))}},{key:"showItem",value:function(e){var t=this;this.images[this.currentItem].classList.add(this.classes.next,e),this.images[this.currentItem].addEventListener("animationend",(function(i){i.target.classList.remove("carousel__image_next",e),i.target.classList.add("carousel__image_active"),t.btns[t.currentItem].classList.add("carousel__button_active"),document.querySelector(".carousel__img-order-num").textContent="0"+(t.currentItem+1),t.isEnabled=!0}))}},{key:"previousItem",value:function(e){this.hideItem(this.classes.toRight),this.changeCurrentItem(e-1),this.showItem(this.classes.fromLeft)}},{key:"nextItem",value:function(e){this.hideItem(this.classes.toLeft),this.changeCurrentItem(e+1),this.showItem(this.classes.fromRight)}},{key:"setEventListeners",value:function(){for(var e=this,t=function(t){e.btns[t].addEventListener("click",(function(){e.isEnabled&&(e.currentItem<t?e.nextItem(t-1):e.currentItem>t&&e.previousItem(t+1))}))},i=0;i<this.btns.length;i++)t(i);this.arrowLeft.addEventListener("click",(function(){e.isEnabled&&e.previousItem(e.currentItem)})),this.arrowRight.addEventListener("click",(function(){e.isEnabled&&e.nextItem(e.currentItem)})),o.addEventListener("mousedown",(function(t){t.preventDefault(),e.dragXStart=t.pageX,e.dragYStart=t.pageY})),o.addEventListener("mouseup",(function(t){e.dragXEnd=t.pageX,e.dragYEnd=t.pageY;var i=e.dragXEnd-e.dragXStart;e.dragYEnd,e.dragYStart,e.dragXStart>e.dragXEnd&&Math.abs(i)>30?(t.preventDefault(),e.isEnabled&&e.nextItem(e.currentItem)):e.dragXStart<e.dragXEnd&&Math.abs(i)>30&&(t.preventDefault(),e.isEnabled&&e.previousItem(e.currentItem))})),o.addEventListener("touchstart",(function(t){t.preventDefault(),e.dragXStart=t.touches[0].clientX,e.dragYStart=t.touches[0].clientY})),o.addEventListener("touchend",(function(t){e.dragXEnd=t.changedTouches[0].clientX;var i=e.dragXEnd-e.dragXStart;e.dragXStart>e.dragXEnd&&Math.abs(i)>30?(t.preventDefault(),e.isEnabled&&e.nextItem(e.currentItem)):e.dragXStart<e.dragXEnd&&Math.abs(i)>30&&(t.preventDefault(),e.isEnabled&&e.previousItem(e.currentItem))}))}}])&&Ae(t.prototype,i),r&&Ae(t,r),e}(),Ve=i(1),je=i.n(Ve);i(4);function Fe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sliderClass=".subcontainer__video-slider",this.render=this.render.bind(this),this.setEventListeners=this.setEventListeners.bind(this)}var t,i,r;return t=e,(i=[{key:"render",value:function(){je()(this.sliderClass).slick({infinite:!0,slidesToShow:3,slidesToScroll:1,speed:300,initialSlide:0,dots:!0,prevArrow:".video-pagination__arrow_left",nextArrow:".video-pagination__arrow_right",responsive:[{breakpoint:950,settings:{slidesToShow:2}}]})}},{key:"setEventListeners",value:function(){je()(this.sliderClass).on("beforeChange",(function(e,t,i,r){}))}}])&&Fe(t.prototype,i),r&&Fe(t,r),e}(),Be=i(0),Ue=i.n(Be);window.onload=function(){var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},function(){var e=new Re,t=new Xe,i=new Ye,r=new de,o=new ue,c=new me,l=new ye(c),u=new ke(c),h=new De(u);function d(){n.classList.toggle("mobile-menu_open"),s.classList.toggle("hamburger-button_open")}c.checkUser(),c.checkUser()&&l.loadInputs(),l.renderCost(),y.querySelectorAll("input").forEach((function(e){l.setEventListeners(e)})),document.addEventListener("scroll",(function e(){a.classList.add("go-up-link_visible"),document.removeEventListener("scroll",e)})),e.setEventListeners(),r.initialize(59),r.setEventListeners(),o.render(),o.setEventListeners(),t.setEventListeners(),s.addEventListener("click",d),n.addEventListener("click",d),l.button.addEventListener("click",(function(e){e.preventDefault(),u.open(),h.setEventListeners()})),u.setEventListeners(),u.closeBtn.addEventListener("click",(function(e){e.preventDefault(),u.close(),h.removeEventListeners()})),i.render(),i.setEventListeners(),Ue.a.accessToken=ae;var v=new Ue.a.Map({container:"map",style:oe,center:[2.3364,48.86091],zoom:16,bearing:7});ce.features.forEach((function(e){var t=document.createElement("div");"Louvre Museum"===e.properties.title?t.className="section_contacts__marker section_contacts__marker_highlight":t.className="section_contacts__marker section_contacts__marker_common",new Ue.a.Marker(t).setLngLat(e.geometry.coordinates).setPopup(new Ue.a.Popup({offset:25}).setHTML("<h3>"+e.properties.title+"</h3><p>"+e.properties.description+"</p>")).addTo(v)})),v.addControl(new Ue.a.NavigationControl)}()}});